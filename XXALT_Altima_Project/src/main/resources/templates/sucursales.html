<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Clientes | Altima</title>
    <link rel="icon" type="image/png" sizes="32x32" th:href="@{/dist/img/favicon.ico}">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Custom CSS --> 
    <link rel="stylesheet" th:href="@{/dist/css/custom.css}">
    <!-- Font Awesome -->
    <link rel="stylesheet" th:href="@{/plugins/fontawesome-free/css/all.min.css}">
    <!-- Icons Design -->
    <link rel="stylesheet" th:href="@{/dist/css/font/flaticon.css}">
    <!--  Font generated by <a href="https://www.flaticon.com">flaticon.com</a>. <p>Under <a href="http://creativecommons.org/licenses/by/3.0/">CC</a>: <a data-file="036-zipper" href="https://www.flaticon.com/authors/smalllikeart">smalllikeart</a></p-->
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" th:href="@{/dist/css/adminlte.min.css}">
    <!-- Datatables Plugin-->
    <link rel="stylesheet" th:href="@{/dist/css/jquery.dataTables.min.css}">
    <!-- Datatables Plugin-->
    <link rel="stylesheet" th:href="@{/dist/css/dataTables.bootstrap4.min.css}">
    <!-- Select2 --> 
    <link rel="stylesheet" th:href="@{/plugins/select2/css/select2.min.css}">
    <link rel="stylesheet" th:href="@{/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css}">
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
</head>

<body class="hold-transition sidebar-mini layout-fixed sidebar-collapse">
    <!-- Site wrapper -->
    <div class="wrapper">
        <!-- Navbar -->
        <div th:insert="navegacion-nav"></div>
        <!-- /.navbar -->
        <!-- Modal -->
        <div th:insert="navegacion-logout"></div>
        <!-- Main Sidebar Container -->
        <div th:insert="navegacion-aside"></div>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1>Sucursal&nbsp;<a th:href="@{/agregar-sucursal/}+ ${cliente.idCliente}"><button class="btn btn-primary btn-circle btn-sm popoverxd" data-container="body" data-toggle="popover" data-placement="right" data-content="Agregar"><i class="fas fa-plus"></i></button></a> 
                            <a th:href="@{/clientes}"><button class="btn btn-danger btn-circle btn-sm popoverxd" data-container="body" data-toggle="popover" data-placement="right" data-content="Regresar"><i class="fas fa-arrow-left"></i></button></a></h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
                                <li class="breadcrumb-item active">Agentes de venta</li>
                                <li class="breadcrumb-item active">Clientes</li>
                            </ol>
                        </div>
                    </div>
                </div>
                <!-- /.container-fluid -->
            </section>

            <!-- Main content -->
            <section class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <!-- Default box -->
                            <div class="card">
                                <div class="card-header bg-dark">
                                    <h3 class="card-title" th:utext="Listado+' '+'de'+' '+Sucursales +' '+ *{cliente.Nombre}"></h3>
                                </div>
                                <div class="card-body">
                                   <table class="table tablexd table-striped">
                                        <thead>
                                            <tr>
                                                <th>No. Sucursal</th>
                                                <th>Nombre</th>
                                                <th>Teléfono</th>
                                                <th>R.F.C</th>
                                                <th>Contacto</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="sucursal: ${sucursales}">
                                                <td th:text="${sucursal.SIdText}"></td>
                                                <td th:text="${sucursal.NombreSucursal}"></td>
                                                <td th:text="${sucursal.TelefonoSucursal}"></td>
                                                <td th:text="${sucursal.RfcSucursal}"></td>
                                               	<td th:text="${sucursal.ContactoSucursal}"></td>
                                               	
                                               	<td class="tdcenter">                                        
                                                 	<a th:href="@{/editar-sucursal/}+ ${sucursal.IdClienteSucursal}"class="btn btn-warning btn-circle btn-sm popoverxd" 
                                                         data-container="body" data-toggle="popover"
                                                          data-placement="top" data-content="Editar"><i class="fas fa-pen"></i></a>
                                                          
                                                 	
                                                 		
                                               		<a th:if="${sucursal.Sestatus  == '1'}"   th:href="@{/delete-sucursal/}+ ${sucursal.IdClienteSucursal}" class="btn btn-danger btn-circle btn-sm btn-delete popoverxd"
                                                         data-container="body" data-toggle="popover" data-placement="top"
                                                          data-content="Dar de baja">  <i class="fas fa-caret-down"></i> </a>
                                                          
                                                    <a th:if="${sucursal.Sestatus == '0'}"   th:href="@{/alta-sucursal/}+ ${sucursal.IdClienteSucursal}"  class="btn btn-success text-white btn-circle btn-sm btn-alta popoverxd" 
                                                         data-container="body" data-toggle="popover" data-placement="top"
                                                          data-content="Dar de alta"> <i class="fas fa-sort-up"></i> </a>
                                                </td>
                                            </tr>     
                                        </tbody>
                                    </table>
	                                </div>
                                <!-- /.card-body -->
                            </div>
                            <!-- /.card -->
                        </div>
                    </div>
                </div>
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

        <div th:insert="navegacion-footer"></div>
    </div>
    <!-- ./wrapper -->

    <!-- jQuery -->
    <script th:src="@{/plugins/jquery/jquery.min.js}"></script>
    <!-- Bootstrap 4 -->
    <script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
    <!-- AdminLTE App -->
    <script th:src="@{/dist/js/adminlte.min.js}"></script>
    <!-- AdminLTE for demo purposes -->
    <script th:src="@{/dist/js/demo.js}"></script>
    <!-- Select2 -->
    <script th:src="@{/plugins/select2/js/select2.full.min.js}"></script>
    <!-- SweetAlert -->
    <script th:src="@{/dist/js/sweetalert.js}"></script>
    <!-- Funcionalidad-->
    <script th:src="@{/dist/js/Muestras.js}"></script>
    <!-- Datatables Plugin-->
    <script th:src="@{/dist/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/dist/js/dataTables.buttons.min.js}"></script>
    <script th:src="@{/dist/js/buttons.colVis.min.js}"></script>
    <!-- Bootstrap Datatables Plugin-->
    <script th:src="@{/dist/js/dataTables.bootstrap4.min.js}"></script>
    <!-- Popover-->
    <script>
        $(function() {
            $('.popoverxd').popover({
                container: 'body',
                trigger: 'hover'
            })
        })
    </script>
    <!-- Script de la tabla -->
    <script>
        $(document).ready(function() {
            $('table.tablexd').DataTable({
                "ordering": false,
                "pageLength": 5,
                "lengthMenu": [
                    [5, 10, 25, 50, 100],
                    [5, 10, 25, 50, 100]
                ],
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla =(",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    },
                    "buttons": {
                        "copy": "Copiar",
                        "colvis": "Visibilidad"
                    }
                }
            });

        });
    </script>
    <script>
		$('#iComercial').removeClass('text-primary');
		$('#menuComercial').addClass('menu-open');
		$('#navComercial').addClass('active');
		$('#menuVenta').addClass('menu-open');
		$('#navVenta').addClass('active');
		$('#navVenta2').addClass('active');
	</script>
	<script th:if="${icon != null}" th:inline="javascript">
		Swal.fire({
	    	  position: 'center',
	          icon: /*[[${icon}]]*/,
	          title: /*[[${title}]]*/,
	          showConfirmButton: false,
	          timer: 1250
	    });
	</script>
	
	<script>
		$('.btn-delete').on('click', function (e) {
		    e.preventDefault();
		    var href =$(this).attr('href');
		    $('#bajaSucursalModal #btnDelteYes').attr('href',href);
		    $('#bajaSucursalModal').modal();
		});
		</script>
		
		
		<script>
		$('.btn-alta').on('click', function (e) {
		    e.preventDefault();
		    var href =$(this).attr('href');
		    $('#altaSucursalModa #btnDelteYes').attr('href',href);
		    $('#altaSucursalModa').modal();
		});
		</script>
	
	<div class="modal fade" id="bajaSucursalModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        ¿Deseas dar de baja la sucursal?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger mr-auto" data-dismiss="modal">Cancelar</button>
        <a id="btnDelteYes" class="btn btn-primary">Confirmar</a>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="altaSucursalModa" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        ¿Deseas dar de alta la sucursal?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger mr-auto" data-dismiss="modal">Cancelar</button>
        <a id="btnDelteYes" class="btn btn-primary">Confirmar</a>
      </div>
    </div>
  </div>
</div>

	
</body>

</html>