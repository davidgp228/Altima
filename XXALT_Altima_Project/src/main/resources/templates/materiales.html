
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Control de producci&oacute;n de muestras | Altima</title>
<link rel="icon" type="image/png" sizes="32x32" href="dist/img/favicon.ico">
<!-- Tell the browser to be responsive to screen width -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Custom CSS -->
<link rel="stylesheet" href="dist/css/custom.css">
<!-- Font Awesome -->
<link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
<!-- Icons Design -->
<link rel="stylesheet" href="dist/css/font/flaticon.css">
<!--  Font generated by <a href="https://www.flaticon.com">flaticon.com</a>. <p>Under <a href="http://creativecommons.org/licenses/by/3.0/">CC</a>: <a data-file="036-zipper" href="https://www.flaticon.com/authors/smalllikeart">smalllikeart</a></p-->
<!-- Ionicons -->
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<!-- overlayScrollbars -->
<link rel="stylesheet" href="dist/css/adminlte.min.css">
<!-- Datatables Plugin-->
<link rel="stylesheet" href="dist/css/jquery.dataTables.min.css">
<!-- Datatables Plugin-->
<link rel="stylesheet" href="dist/css/dataTables.bootstrap4.min.css">
<!-- Select2 -->
<link rel="stylesheet" href="plugins/select2/css/select2.min.css">
<link rel="stylesheet" href="plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
<!-- Google Font: Source Sans Pro -->
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
</head>

    <body class="hold-transition sidebar-mini layout-fixed sidebar-collapse">
        <!-- Site wrapper -->
        <div class="wrapper">
            <!-- Navbar -->
            <div th:insert="navegacion-nav"></div>
            <!-- /.navbar -->
            <!-- Modal -->
            <div th:insert="navegacion-logout"></div>
            <!-- Main Sidebar Container -->
            <div th:insert="navegacion-aside"></div>

            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <div class="container-fluid">
                        <div class="row mb-2">
                            <div class="col-sm-6">
                                <h1>Materiales&nbsp;<a th:href="@{/agregar-material}"><button class="bt btn-primary btn-circle btn-sm popoverxd" data-container="body" data-toggle="popover" data-placement="right" data-content="Agregar"><i class="fas fa-plus"></i></button></a></h1>
                            </div>
                            <div class="col-sm-6">
                                <ol class="breadcrumb float-sm-right">
                                    <li class="breadcrumb-item"><a th:href="@{/}">Dashboard</a></li>
                                    <li class="breadcrumb-item active">Dise&ntilde;o</li>
                                    <li class="breadcrumb-item active">Materiales</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <!-- /.container-fluid -->
                </section>

                <!-- Main content -->
                <section class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12">
                                <!-- Default box -->
                                <div class="card">
                                    <div class="card-header bg-dark">
                                        <h3 class="card-title">Listado de materiales</h3>
                                    </div>
                                    <div class="card-body">
                                        <table class="table tablaMaterial table-striped table-bordered" id="table-materiales">
                                            <thead>
                                                <tr>
                                                    <th>C&oacute;digo</th>
                                                    <th>Nombre</th>
                                                    <th>Descripci&oacute;n</th>
                                                    <th>Clasificaci&oacute;n</th>

                                                    <th>Unidad de medida</th>
                                                    <th>Acciones</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="mt:${listarMateriales}">
                                                    <td th:text="${mt[1]}"></td>
                                                    <td th:text="${mt[5]}"></td>
                                                    <td th:text="${mt[2]}"></td>
                                                    <td th:text="${mt[3]}"></td>
                                                    <td th:text="${mt[4]}"></td>

                                                    <td class="tdcenter" th:switch="${mt[3]}">

                                                        <a th:case="'Tela'" th:href="@{/editar-tela/}+${mt[0]}" class="btn btn-warning btn-circle btn-sm popoverxd" 
                                                         data-container="body" data-toggle="popover"
                                                          data-placement="top" data-content="Editar"><i class="fas fa-pen"></i></a>

                                                        <a th:case="'Forro'" th:href="@{/editar-forro/}+${mt[0]}" class="btn btn-warning btn-circle btn-sm popoverxd" 
                                                        data-container="body" data-toggle="popover" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i></a>

                                                        <a th:case="*" th:href="@{/editar-material/}+${mt[0]}" class="btn btn-warning btn-circle btn-sm popoverxd" 
                                                        data-container="body" data-toggle="popover" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i></a>
                                                        
                                                        
                                                        
                                                        

                                                        <a class="btn btn-info btn-circle btn-sm text-white popoverxd" th:unless="${mt[3] == 'Forro' || mt[3] == 'Tela'  }" th:href="@{/detalle-material/material/}+${mt[0]}" data-container="body" data-toggle="popover" data-placement="top" data-content="Detalles"><i class="fas fa-info"></i></a>
                                                        <a class="btn btn-info btn-circle btn-sm text-white popoverxd" th:if="${mt[3] == 'Tela'}" th:href="@{/detalle-material/tela/}+${mt[0]}" data-container="body" data-toggle="popover" data-placement="top" data-content="Detalles"><i class="fas fa-info"></i></a>
                                                        <a class="btn btn-info btn-circle btn-sm text-white popoverxd" th:if="${mt[3] == 'Forro'}" th:href="@{/detalle-material/forro/}+${mt[0]}" data-container="body" data-toggle="popover" data-placement="top" data-content="Detalles"><i class="fas fa-info"></i></a>
                                                        
                                                        
                                                        
                                                             <a th:unless="${mt[3] == 'Forro' || mt[3] == 'Tela'  }" th:href="@{/delete-material/}+${mt[0]}"  class="btn btn-danger btn-circle btn-sm btn-delete popoverxd"
                                                         data-container="body" data-toggle="popover" data-placement="top"
                                                          data-content="Dar de baja"><i class="fas fa-caret-down"></i></a>
                                                          
                                                          <a th:if="${mt[3] == 'Tela'}" th:href="@{/delete-tela/}+${mt[0]}"  class="btn btn-danger btn-circle btn-sm btn-delete popoverxd"
                                                         data-container="body" data-toggle="popover" data-placement="top"
                                                          data-content="Dar de baja"><i class="fas fa-caret-down"></i></a>
                                                          
                                                          
                                                          <a th:if="${mt[3] == 'Forro'}" th:href="@{/delete-forro/}+${mt[0]}"  class="btn btn-danger btn-circle btn-sm btn-delete popoverxd"
                                                         data-container="body" data-toggle="popover" data-placement="top"
                                                          data-content="Dar de baja"><i class="fas fa-caret-down"></i></a>
                                                       
                                                    </td>
                                                    
                                                  
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div th:insert="modal-baja-material"></div>
                                    </div>
                                    <!-- /.card-body -->
                                </div>
                                <!-- /.card -->
                            </div>
                        </div>
                    </div>
                </section>
                <!-- /.content -->
            </div>
            <!-- /.content-wrapper -->

            <div th:insert="navegacion-footer"></div>
        </div>
        <!-- ./wrapper -->

        <div th:replace="navegacion-scripts"></div>
        <script src="dist/js/tablaMateriales.js"></script>
        <script src="dist/js/sweetalert.js"></script>
		<script>
		$('.btn-delete').on('click', function (e) {
		    e.preventDefault();
		    var href =$(this).attr('href');
		    $('#bajaMaterialModal #btnDelteYes').attr('href',href);
		    $('#bajaMaterialModal').modal();
		});
		</script>
        <script th:if="${icon != null}" th:inline="javascript">
            Swal.fire({

                position: 'center',
                icon: /*[[${icon}]]*/ 'default',
                title: /*[[${title}]]*/ 'default',
                showConfirmButton: false,
                timer: 2500
            });
        </script>

        <script>
            function changeClassById() {
            	document.getElementById("iDiseno").className = "nav-icon flaticon-005-dress";
                document.getElementById("menuDiseno").className = "nav-item has-treeview menu-open";
                document.getElementById("navDiseno").className = "nav-link active";
                document.getElementById("navDiseno2").className = "nav-link active";
            }
            window.onload = changeClassById();
        </script>

    </body>

</html>